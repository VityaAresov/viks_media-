<%
  const topCreators = Array.isArray(creators) ? creators : [];
  const topTrending = Array.isArray(trending) ? trending : [];
%>
<aside class="rail-right">
  <section class="top-blogs-card">
    <h3>Top blogs</h3>
    <ol class="rank-list">
      <% topCreators.slice(0, 5).forEach((creator, idx) => { %>
      <li>
        <span class="rank-num"><%= idx + 1 %></span>
        <a href="/u/<%= creator.username %>" class="rank-user">
          <img
            src="<%= creator.avatar_url || 'https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=80&q=80' %>"
            alt="<%= creator.username %>"
          />
          <span>
            <strong><%= creator.username %></strong>
            <small><%= creator.received_likes %> subscribers</small>
          </span>
        </a>
      </li>
      <% }) %>
    </ol>
    <a class="rank-more" href="/">View full top</a>
  </section>

  <section class="top-news-side-card">
    <h4>Top news</h4>
    <div class="top-news-side-list">
      <% for (const item of topTrending.slice(0, 4)) { %>
      <a href="/posts/<%= item.id %>">
        <span><%= item.title %></span>
      </a>
      <% } %>
    </div>
  </section>
</aside>